<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
*{margin:0;padding:0;}
#wrap{width:400px;height:600px;margin:0 auto;border:1px solid #999;}
#jilu{width:400px;height:530px;border-bottom:1px solid #999;padding-top:20px;overflow-y:auto;}
#shuru{width:400px;height:49px;background:#09F;}
#txt{width:350px;height:49px;float:left;border:0;outline:none;font-size:30px;}
#btn{width:50px;height:47px;float:right;border:0;outline:none;font-size:20px;background:#0CF;}
h3 .xinx{float:right;background:#0CF;border-radius:5px;font:15px/30px "微软雅黑";padding:0 5px;}
h3 .xinx2{float:left;background:#0aF;border-radius:5px;font:15px/30px "微软雅黑";padding:0 5px;}
h3{height:30px;margin:20px;margin-top:0;}
</style>
</head>

<body>

<div id="wrap">
	<div id="jilu"></div>
    <div id="shuru">
    	<input type="text" id="txt">
        <input type="button" id="btn" value="发送">
    </div>
</div>

<script>
	var btn=document.getElementById("btn");
	var i=0
	btn.onclick=function(){
		
		
		var txt=document.getElementById("txt");	
		txt2=txt.value;
		var h3=document.createElement("h3");
		var p=document.createElement("p");
		h3.appendChild(p)
		var xiaoxi=document.createTextNode(txt2);
		p.appendChild(xiaoxi);
		var attr=document.createAttribute("class");
		attr.nodeValue="xinx"
		p.setAttributeNode(attr)
		var jilu=document.getElementById("jilu");
		var h=jilu.clientHeight;
		//alert(h)
		
		jilu.appendChild(h3)
		txt.value="";
		jilu.scrollTop=10000
		function yanshi(){
			
			arr=["你好","你也好","en","我知道","是的","好了好了","你是不是傻","别bb了","你咋不上天呢","好了好了","你走开","好吧"]
			if(i==arr.length-1){i=0}
			var h32=document.createElement("h3");
			var p2=document.createElement("p");
			h32.appendChild(p2)
			var xiaoxi2=document.createTextNode(arr[i]);
			p2.appendChild(xiaoxi2);
			/*var attr=document.createAttribute("class");
			attr.nodeValue="xinx"
			p.setAttributeNode(attr)*/
			p2.setAttribute("class","xinx2")
			//var jilu=document.getElementById("jilu");
			jilu.appendChild(h32)
			//txt.value="";
			i++;
			var h2=jilu.clientHeight;
			//alert(h2)
			//var hc=jilu.scrollTop;
			jilu.scrollTop=10000//h2-h
			
		}
		setTimeout(yanshi,600)
		
		
		
	}
	
	
</script>
</body>
</html>
