<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>聊天框</title>

	<style>
		*{margin: 0;padding:0;}
		h1{height: 80px;text-align: center;color: #999;color: red;line-height: 80px;}
		#talk{height: 600px;width: 600px;background-color: #EFEACD;margin: 80px auto;box-shadow:-4px -4px 10px gray;overflow: hidden; }
		#content{height: 418px;width:448px;float: left;border: 1px solid #999; overflow-y: scroll;}
		#write{width: 450px;height:100px;float: left;}
		#write #send #value{width: 448px;height: 70px;resize: none;}
		#person{float: right;height: 600px;width: 150px;}
		#person img{width: 100%;}
		#write #send input[type="button"]{float: right;margin: 0 10px;width: 50px;height: 28px;border:0;background-color: #EFEAaa;outline: none;}
		p{height: 30px;padding: 0 30px;min-width: 10px;}
		span{padding: 2px 10px;display: inline-block;}
		.txtl{ float: left;;text-align: left;border-radius: 8px;background-color: yellowgreen;color: #333;}
		.txtr{float: right;text-align: right;border-radius: 8px;background-color: yellowgreen;color: #333;}

	</style>
</head>
<body>
	<div id="talk">
		<h1>智能聊天机器人</h1>
		<div id="content">

		</div>
		<div id="person">
			<img src="6.png" alt="">
		</div>
		<div id="write">
			<div id="send"> 
				<textarea id="value" type="input"></textarea> 
				<input type="button" value="关闭" id="close">
				<input type="button" value="发送" id="sendtxt">
			</div>
		</div>
	</div>

	<script>

		var close=document.getElementById("close");
		var sendbtn=document.getElementById("sendtxt");
		var txt=document.getElementById("value");
		var content=document.getElementById("content");
		sendbtn.onclick=function () {
			
			if(txt.value){
				var scon=document.createElement("p");
				var sconspan=document.createElement("span");
				var scontxt=document.createTextNode(txt.value);
				sconspan.setAttribute("class", "txtr");
				sconspan.appendChild(scontxt);
				scon.appendChild(sconspan);
				content.appendChild(scon);
				setTimeout(function () {
					var msg=txt.value;//输入的内容
					if(msg.indexOf("好")!=-1){
						add("你好");
					}else if(msg.indexOf("妹")!=-1||msg.indexOf("草")!=-1||msg.indexOf("操")!=-1||msg.indexOf("干")!=-1||msg.indexOf("日")!=-1) {
						add("不准说脏话");
					}else{
						add("我今年１岁，还什么都不懂呢!");
					}
					txt.value="";
				}, 500)
				
			}else {
				alert("请输入内容再发送!")
			}
		}

		function add(txt) {
			var scon=document.createElement("p");
			var sconspan=document.createElement("span");
			var scontxt=document.createTextNode(txt);
			sconspan.setAttribute("class", "txtl");
			sconspan.appendChild(scontxt);
			scon.appendChild(sconspan);
			content.appendChild(scon);
		}
		close.onclick=function () {
			window.opener=null;
			window.open('','_self');
			window.close();
		}










	</script>
</body>
</html>