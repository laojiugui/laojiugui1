<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>js11</title>
	<style>
		#table{min-height: 100px;border: 1px solid red;border-collapse: collapse;}
		#table td{height: 40px;border:1px solid red;width: 80px;}
		#on{height: 50px;width: 100px;background-color:yellowgreen;border:0;position: relative;}
		#wrap{height: 400px;width: 600px;background-color: red;position: absolute;display: none;left: 200px;}
		ul{width: 100;height: 100px;position: relative;}
		li{height:10px;width: 10px;background-color: yellowgreen;position: fixed;left: 0;top:0; list-style: none;}


	</style>
</head>
<body style="height: 2000px;">


	<input type="text" placeholder="生成行" id="txt1">
	<input type="text" placeholder="生成列" id="txt2">
	<input type="button" value="生成" id="btn1">

	<table id="table"></table>


	<div  id="on">
		<div id="wrap">
		</div>
	</div>



	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>
	<li class="list"></li>






	<script>
		var btn=document.getElementById("btn1");
		var hang=document.getElementById("txt1");
		var lie=document.getElementById("txt2");
		var table=document.getElementById("table");
		btn.onclick=function () {
			for(var i=0;i<hang.value;i++){
				var tr=document.createElement("tr");
				for(var j=0;j<lie.value;j++){
					var td=document.createElement("td");
					if(j==lie.value-1){
						var tdbtn=document.createElement("input");
						td.appendChild(tdbtn);
						tdbtn.setAttribute("type", "button");
						tdbtn.setAttribute("value", "删除");
						tdbtn.setAttribute("class", "tablebtn");
						tdbtn.onclick=function () {
							table.removeChild(this.parentNode.parentNode);

						}
					}else  {
						td.innerHTML=i+1+"行"+(j+1)+"列";
					}
					tr.appendChild(td);
				}
				table.appendChild(tr);
			}
		}

//实现延时消失，在信息展示框中用到，效果为鼠标移开展示框不立刻消失，
//用到延时器，当鼠标移到信息展示框中时要清除延时器。
var timeout1=null;
var on=document.getElementById("on");
var wrap=document.getElementById("wrap");
wrap.onmouseover=on.onmouseover=function(){
	clearTimeout(timeout1);
	wrap.style.display = "block";
}

on.onmouseout=function(){
	timeout1=setTimeout(function () {
		wrap.style.display = "none";
	}, 500)
}






//鼠标旁边跟随的小块
//重点position:fixed；这样就可以不用加入滚动轴的距离了
document.onmousemove=function (evt) {
	var e=window.event||evt;
	var aaa=document.getElementsByClassName("list");
	//根据首先获得的坐标然后逐个把之后的坐标跟前一个坐标相等
	for(var i=aaa.length-1;i>0;i--){
		aaa[i].style.left=aaa[i-1].style.left;
		aaa[i].style.top=aaa[i-1].style.top;
	}
	//以下两句为首先获得鼠标坐标
	aaa[0].style.left=e.clientX+10+"px";
	aaa[0].style.top=e.clientY+10+"px";

}










</script>

























</body>
</html>