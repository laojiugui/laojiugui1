<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>8.8作业</title>
<style type='text/css'>
	*{margin:0;padding:0;}
	#chatwrap{margin:0 auto;width:500px;height:500px;border:1px solid #000;}
	#chatbox{width:500px;height:400px;border:1px solid #000;overflow-y:auto;overflow-x:hidden;}
	textarea{width:398px;height:98px;float:left;font-size:24px;}
	#fs{width:100px;height:100px;float:left;}
	li{border:1px solid #000;list-style:none;margin:10px 5px;padding:0 10px;font-size:24px;color:red;float:right;clear:both;}
	table{border:2px solid red;border-collapse:collapse;border-spacing:0px;}
	td{border:1px solid blue;text-align:center;width:50px;}
</style>
</head>

<body>
<div id='chatwrap'>
	<div id='chatbox'></div>
	<textarea rows='5' cols='20' ></textarea>
	<input id='fs' value='发送' type='button' />
</div><br />
	姓名<input id='name' value='' type='text' /><br />
	身高<input id='height' value='' type='text' /><br />
	体重<input id='weight' value='' type='text' /><br />
	年龄<input id='age' value='' type='text' /><br />
	<input id='sc' value='生成' type='button' />
<script>
window.onload=function(){
	var cbox=document.getElementById('chatbox');
	var textarea=document.getElementsByTagName('textarea')[0];
	var fs=document.getElementById('fs');
	var mingan='你妈,你妹,你大爷,fuck,shit,草';
	mingan=mingan.split(',');
	//console.log(mingan);
	fs.onclick=function(){
		var instr=textarea.value;                                    //获取输入的内容
		for(var i=0;i<mingan.length;i++){
			var reg=new RegExp(mingan[i],'gi');                       //g 全局    i 忽略大小写   声明了一个正则对象
			//alert('名字含有敏感词');	
			instr=instr.replace(reg,'***');
			break;
		}
		if(!instr){                                                         //不允许空格
			alert('不能发送空格！')
		}else{
		var li=document.createElement('li');                     //创建元素节点li
		var ys=document.createAttribute('style');
		ys.nodeValue='background:#'+parseInt(Math.random()*10)+parseInt(Math.random()*10)+parseInt(Math.random()*10)+';';
		li.setAttributeNode(ys);                                            //随机颜色
		var outstr=document.createTextNode(instr);         //创建文本节点
		li.appendChild(outstr);                                       //放到li里 
		cbox.appendChild(li);                                       //放到对话框里
		}
		textarea.value='';                                 //输入完后 清空输入框
	}
	
	
	var name=document.getElementById('name');
	var height=document.getElementById('height');
	var weight=document.getElementById('weight');
	var age=document.getElementById('age');
	var sc=document.getElementById('sc');
	var table=document.createElement('table');                   //先建好表格第一行
	var name1=document.createTextNode('姓名');
	var td1=document.createElement('td');
	td1.appendChild(name1);
	var tr=document.createElement('tr');
	var sx=document.createAttribute('style');
	sx.nodeValue='background:#'+parseInt(Math.random()*10)+parseInt(Math.random()*10)+parseInt(Math.random()*10)+';';
	tr.setAttributeNode(sx);
	tr.appendChild(td1);
	var height1=document.createTextNode('身高');
	var td2=document.createElement('td');
	td2.appendChild(height1);
	//var tr=document.createElement('tr');
	tr.appendChild(td2);
	var weight1=document.createTextNode('体重');
	var td3=document.createElement('td');
	td3.appendChild(weight1);
	//var tr=document.createElement('tr');
	tr.appendChild(td3);
	var age1=document.createTextNode('年龄');
	var td4=document.createElement('td');
	td4.appendChild(age1);
	//var tr=document.createElement('tr');
	tr.appendChild(td4);
	table.appendChild(tr);
	document.body.appendChild(table);
	sc.onclick=function(){	                                                     //点击按钮往表格里放tr td
		var nname=document.createTextNode(name.value);
		var td=document.createElement('td');
		td.appendChild(nname);
		var tr=document.createElement('tr');
		var sx=document.createAttribute('style');
		sx.nodeValue='background:#'+parseInt(Math.random()*10)+parseInt(Math.random()*10)+parseInt(Math.random()*10)+';';
		tr.setAttributeNode(sx);
		tr.appendChild(td);
		var nheight=document.createTextNode(height.value);
		var td2=document.createElement('td');
		td2.appendChild(nheight);
		tr.appendChild(td2);
		var nweight=document.createTextNode(weight.value);
		var td3=document.createElement('td');
		td3.appendChild(nweight);
		tr.appendChild(td3);
		var nage=document.createTextNode(age.value);
		var td4=document.createElement('td');
		td4.appendChild(nage);
		tr.appendChild(td4);
		table.appendChild(tr);
	}
















}
</script>
</body>
</html>
